fabApp=function(t){return t.FabActions=function(){var t={userLogout:function(t){function e(){window.location=t.attr("href")}$.SmartMessageBox({title:"<i class='fa fa-sign-out txt-color-orangeDark'></i> Hi <span class='txt-color-orangeDark'><strong>"+t.data("user-name")+"</strong></span> ",content:t.data("logout-msg")||"You can improve your security further after logging out by closing this opened browser",buttons:"[Cancel][Go]",input:"select",options:"[Shutdown][Restart][Logout]"},function(t,a){"Cancel"!=t&&("Logout"==a&&($.root_.addClass("animated fadeOutUp"),setTimeout(e,1e3)),"Shutdown"==a&&shutdown(),"Restart"==a&&restart())})},resetController:function(t){$.SmartMessageBox({title:"<i class='fa fa-bolt'></i> <span class='txt-color-orangeDark'><strong>Reset Controller</strong></span> ",content:t.data("reset-msg")||"You can improve your security further after logging out by closing this opened browser",buttons:"[No][Yes]"},function(t){"Yes"==t&&reset_controller()})},emergencyButton:function(t){pressedEmergencyButton=!0,stopAll()}};$.root_.on("click",'[data-action="fabUserLogout"]',function(e){var a=$(this);t.userLogout(a),e.preventDefault(),a=null}),$.root_.on("click",'[data-action="resetController"]',function(e){var a=$(this);t.resetController(a),e.preventDefault(),a=null}),$.root_.on("click",'[data-action="emergencyButton"]',function(e){var a=$(this);t.emergencyButton(a),e.preventDefault(),a=null})},t.domReadyMisc=function(){$("#top-temperatures").click(function(t){var e=$(this);e.next(".top-ajax-temperatures-dropdown").is(":visible")?(e.next(".top-ajax-temperatures-dropdown").fadeOut(150),e.removeClass("active")):(e.next(".top-ajax-temperatures-dropdown").fadeIn(150),e.addClass("active"));var a=e.next(".top-ajax-temperatures-dropdown").find(".btn-group > .active > input").attr("id");e=null,a=null,t.preventDefault()}),$("#jog-shortcut").click(function(t){var e=$(this);e.next(".top-ajax-jog-dropdown").is(":visible")?(e.next(".top-ajax-jog-dropdown").fadeOut(150),e.removeClass("active")):(e.next(".top-ajax-jog-dropdown").fadeIn(150),e.addClass("active"));var a=e.next(".top-ajax-jog-dropdown").find(".btn-group > .active > input").attr("id");e=null,a=null,t.preventDefault()}),$(".language").click(function(){var t=$("#actual_lang").val(),e=$(this).attr("data-value");t!=e&&($("#lang").val(e),openWait('<i class="fa fa-flag"></i><br> Loading language '),$("#lang_form").submit())}),$(".lock-ribbon").click(function(){lockscreen()}),$(document).mouseup(function(t){$(".top-ajax-temperatures-dropdown").is(t.target)||0!==$(".top-ajax-temperatures-dropdown").has(t.target).length||($(".top-ajax-temperatures-dropdown").fadeOut(150),$(".top-ajax-temperatures-dropdown").prev().removeClass("active")),$(".top-ajax-jog-dropdown").is(t.target)||0!==$(".top-ajax-jog-dropdown").has(t.target).length||($(".top-ajax-jog-dropdown").fadeOut(150),$(".top-ajax-jog-dropdown").prev().removeClass("active"))})},t.drawBreadCrumb=function(){var t=$("nav li.active > a"),e=t.length;t.each(function(){bread_crumb.append($("<li></li>").html($.trim($(this).clone().children(".badge").remove().end().text()))),--e||(document.title="FABUI - "+bread_crumb.find("li:last-child").text())})},t.freezeMenu=function(t){var e=new Array;e[0]="dashboard",e[1]="objectmanager",e[2]="make/history",e[3]=t;var a=$("nav li > a");a.each(function(){var a=$(this).attr("data-controller");jQuery.inArray(a,e)>=0?a==t&&$(this).append('<span class="badge bg-color-red pull-right inbox-badge freeze-menu">!</span>'):($(this).addClass("menu-disabled"),$(this).removeAttr("href"))})},t.checkForFirstSetupWizard=function(){$.get("/fabui/controller/first_setup",function(t,e){1==t.response&&setTimeout(function(){$.smallBox({title:"Wizard Setup",content:"It seems that you still did not complete the first recommended setup:<ul><li>Manual Bed Calibration</li><li>Probe Lenght Calibration</li><li>Engage Feeder</li></ul><br>Without a proper calibration you will not be able to use the FABtotum correctly<br>Do you want to do it now?<br><br><p class='text-align-right'><a href='/fabui/maintenance/first-setup' class='btn btn-primary btn-sm'>Yes</a> <a href='javascript:dont_ask_wizard();' class='btn btn-danger btn-sm'>No</a> <a href='javascript:finalize_wizard();' class='btn btn-warning btn-sm'>Don't ask me anymore</a> </p>",color:"#296191",icon:"fa fa-warning swing animated"})},1e3)})},t}({}),jQuery(document).ready(function(){fabApp.FabActions(),fabApp.domReadyMisc(),fabApp.drawBreadCrumb(),fabApp.checkForFirstSetupWizard()});